%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% vim: set noexpandtab tw=0 indentexpr=:                                   %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\documentclass[11pt]{article}

\usepackage{Smokey}

\usepackage{draftwatermark}
\SetWatermarkText{DRAFT}
\SetWatermarkScale{1}
\SetWatermarkLightness{0.95}

% Preallocated box registers
\newsavebox{\BoxA}
\newsavebox{\BoxB}
\newsavebox{\BoxC}
\newsavebox{\BoxD}
\newsavebox{\BoxE}
\newsavebox{\BoxF}
\newsavebox{\LeftBoxA}
\newsavebox{\LeftBoxB}
\newsavebox{\RightBoxA}
\newsavebox{\RightBoxB}
\newsavebox{\RightBoxC}
\newsavebox{\RightBoxD}
\newsavebox{\RightBoxE}
\newsavebox{\RightBoxF}

\hyphenation{Number-Of-Times-To-Run}
\hyphenation{Factory-Logs-Waiting-To-Be-Collected}
\hyphenation{Log-Collector}
\hyphenation{whe-ther}
\hyphenation{Module-Name}
\hyphenation{Submodule-Name}
\hyphenation{Child-Module-Name}

\NewSmokeyTable%
	{PropertyTable}%
	{m{9em} m{6em} X}%
	{Property Name & Type & Req/Default}
\NewSmokeyTable%
	{PropertyTableRelated}%
	{m{9em} m{6em} m{10em} X}%
	{Property Name & Type & Req/Default & Related}
\NewSmokeyTable%
	{PropertyTableContains}%
	{m{9em} m{6em} m{14.5em} m{2em} X}%
	{Property Name & Type & Req/Default & Casc? & Contains}
\NewCenteredSmokeyTable%
	{ValueTable}%
	{m{5em} m{4em} m{7em}}%
	{Value & Type & Meaning}
\NewCenteredSmokeyTable%
	[\tabulinesep=0.5ex]%
	{LuaTypeTable}%
	{llXl}%
	{Type & Pass By & Description & Example}
\NewGriddedSmokeyTable%
	{PdcaTable}%
	{m{11em} >{\centering}m{7em} >{\centering}m{7em} >{\centering}m{7em}}%
	{Parameter Name}
\NewSmokeyTable%
	{StatusScreenTable}%
	{>{\centering}m{0.22\textwidth} >{\centering}m{0.22\textwidth} >{\centering}m{0.22\textwidth} >{\centering}m{0.22\textwidth}}%
	{Connect to Brick &  Running Status & Pass & Fail}
\NewIndentedSmokeyTable%
	[]%
	[\LstSize]%
	{HandlerApiTable}%
	{m{7em} m{4em} X}%
	{Argument & Type & Comment}
\NewIndentedSmokeyTable%
	[]%
	[\LstSize]%
	{ApiTable}%
	{m{7em} m{4em} m{4em} X}%
	{Argument & Type & Req? & Comment}
\NewSmokeyTable%
	{LuaStruct}%
	{m{6em} m{4em} X}%
	{Field & Type & Value}
\NewCenteredSmokeyTable%
	{LuaPorting}%
	{lll}%
	{File & Lua Code & Smokey Code}
\NewCenteredSmokeyTable%
	{CodeFilesListing}%
	{ll}%
	{File & Code}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{document}

\SmokeyTitlePageFormat

\include{SmokeyManualTitle}

\SmokeyTocPageFormat

\setcounter{tocdepth}{4}
\tableofcontents

\listoffigures

% TODO: This is a hack to put \listoftables on the same page as \listoffigures
\begingroup
\let\clearpage\relax
\listoftables
\endgroup

\SmokeyBodyPageFormat

\include{SmokeyManualBody}

\end{document}
